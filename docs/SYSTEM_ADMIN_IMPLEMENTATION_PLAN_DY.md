# 시스템 관리자 구현 계획서

## 개요
이 문서는 SYSTEM_ADMIN_REDESIGN_ANALYSIS.md를 기반으로 실제 구현을 위한 계획 초안 보강. 

이 화면을 위해서 ....
1. 현장 관리 : 현장 정보 CRUD가 되어야 함. 
  1.1 현장 등록은 본사관리자(Admin) 권한 소유자만 등록할 수 있고, CRUD 가능하다. 
  1.2 현장 동록하면서, 사용자 및 현장관리자를 asssign 할 수 있다. 
  1.3 현장 관리자는 현장 정보를 수정할 수 있다. 
  1.4 현장 상세 정보에서는 현장 정보, 작업자, 주소, 건설관리자, 안전관리자, 작업일지 등의 정보를 조회할 수 있다.
  1.5 현장 상세 정보를 본사관리자는 CRUD할 수 있다.  

2. 사용자 관리 : 
  2.1 사용자 권한 구분 : 작업자, 현장관리자, 파트너사, 본사관리자 (=Admin=본사관리자=시스템관리자), 생산관리자 
    : 기존에 정의 한 내용 참조 
  2.1. 작업자, 현장관리자, 파트너사는 소속 정보와 현장정보와 링크 된다. 
    : 즉 본사 관리자가 사용자 승인 절차를 통해서 소속과 현장을 assign 하게 된다. 현장은 여러개 assign 될 수 있다. 
    : 사용자 등록, 승인 할 때, 사전에 소속(거래처)와 현장정보가 등록 되어 있어야 한다. 
  2.3 필수 제출 서류
    : 작업자 및 현장관리자가 본 시스템의 '문서함 > 필수제출서류' 함을 통해 등록한 정보와 사용자 정보가 맵핑해서 보여질 수 있어야 한다. 
  2.4. 사용자가가 작성한 작업일지 목록을 볼 수 있어야 한다. 
    
3. 소속(=거래처) 관리
  3.1 소속 정보는 작업자, 현장관리자가 소속되어 있는 업체를 뜻함. 
  3.2 소속 정보를 본사 관리자만 CRUD할 수 있다. 
  3.3 기본 정보는 회사명, 주소, 대표이사, 사업자등록번호, 통장번호, 연락처, 이메일, 연락처 등. 
  3.4 소속 정보 중, 소속회사의 이름은 작업자와, 현장관리자의 화면에도 필요 시, 노출되어야 한다. 
      왜나하면, 급하게 연결 된 작업자와, 현장관리자는 자기가 어디 소속인지 모르고 작업할 때가 있기 때문에 그 정보롤 본 시스템을 통해 인지시켜 줄 수 있어야 한다.  

4. 파트너사 관리
  4.1 파트너사 정보는 현장이 맵핑 되어야하고, 그 현장에 assigned 되어야 한다. 
  4.2 파트너사 등록은 본사관리자가 하고, CRUD 할 수 있다. 
  4.3 파트너사 계정의 사용자는 자기가 속한 파트너사 정보를 보고 수정할 수 있다. 

12. 작업일지 관리 
  12.1 모든 작업일지를 볼 수 있는 화면이다. 검색 및 필터링 조회 가능. 
  12.2 모든 작업일지는 본사 관리자만 CRUD 할 수 있다.
  12.3 작업일지의 목록을 보여준다. 
  12.4 작업일지의 상세 정보를 보여준다. 
  12.5 작업일지의 상세 정보를 CRUD할 수 있다.  
  12.6 각 작업일지와 맵핑 된 사진대지 파일을 CRUD 할 수 있다. 
  12.7 각 작업일지와 맵핑 된 현장정보를 볼 수 있다. 

5. 문서함 관리 
  5.1 문서함 종류 및 권한 구분
    - 내문서함 : 사용자 본인 용도의 문서함. 본사관리자는 모든 내문서함 문서 열람 가능.
    - 공유문서함 : 현장과 맵핑되어야 하며, 해당 현장에 assigned된 작업자, 현장관리자, 파트너사, 본사관리자만 열람/공유 가능.
    - 도면마킹 : 현장 정보와 맵핑. 해당 현장에 assigned된 모든 사용자가 열람 가능.
    - 필수 제출 서류 : 사용자가 본사에 제출하는 서류. 본사관리자는 모든 문서 열람 및 관리자 화면에서 직접 업로드/등록 가능.
    - 기성청구함 : 현장 및 파트너사와 맵핑. 해당 현장에 assigned된 파트너사와 본사관리자만 열람 가능. 작업자 및 현장관리자는 접근 불가. 계약 진행 전~완료까지 주요 서류 공유.
  5.2 문서함 종류별로 접근 가능한 문서 목록 제공 (필터링: 문서함 종류, 현장, 등록자 등 / 검색 기능 포함)
  5.3 권한별 문서 관리 기능
    - 본사관리자는 모든 문서함의 문서 CRUD(생성, 조회, 수정, 삭제) 가능
    - 문서 등록 소유자는 본인 문서에 한해 수정/삭제 가능
  5.4 문서별 기능
    - 미리보기, 수정, 공유, 다운로드, 삭제 기능 제공
    - 공유 시, 공유 대상(사용자/현장/파트너사 등) 지정 가능
  5.5 기타 관리 기능
    - 문서함 및 문서별 이력 관리(등록/수정/삭제 로그)
    - 문서함별 통계(문서 수, 최근 등록/수정 내역 등) 제공
    - 대용량 파일 업로드 및 다운로드 지원
    - 문서 미리보기(이미지, PDF 등) 기능 제공

6. 급여관리 
  6.1 급여관리은 본사 관리자만 CRUD 할 수 있다. 
  6.2 급여관리는 현장별, 작업일지 내의 작업자와 공수 정보를 월별로 취합하여 급여 정보를 보여준다. 
  6.3 급여관리는 현장별, 작업자별로 급여 정보와 통계정보를 보여준다. 
  6.4 급여 계산 방식은 일반적 급여 계산 방식과, 3.3%를 선취하여 지급하는 방식의 급여 계산방식이 있다. 주로 3.3%를 선취하는 방식을 적용한다. 
  6.5 급여 계산은 월별로 계산하고, 급여 명세 정보를 제공하고, 급여 명세서를 pdf로 생성한다. 
  6.6 급여 명세서는 현장별, 작업자별로 보여준다. 
  6.7 급여 명세서는 현장별, 작업자별로 pdf로 다운로드 할 수 있다.
  6.8 각자의 급여내역과 급여 명세서는 작업자, 현장관리자의 해당 화면에서도 사용자가 본인 것에 한해서 직접 확인할 수 있고, 다운로드 할 수 있다. 

7. NPC-자재관리
  7.1 사용재고관리 탭 : 작업일지에 등록 된 현장별 일자별, 입고량, 사용량, 재고량 정보를 볼 수 있는 정보를 제공한다. 
  7.2 생산관리 탭 : 생산정보는 생산관리자가 입력하는 일자별, 생산량, 출고량, 잔고량 정보를 보여준다.
  7.3 출고관리 탭 : 생산관리자가 입력한 출고 기록 정보를 보여준다. 배송여부, 배송방식(택배, 화물), 거래명세서 확인, 전자세금계산서 발급 확인, 입금확인, 운인비용 확인 체크 기능 
  7.4.출고요청 관리 : 작업자 및 현장관리자가 NPC-1000 출고 요청한 정보 목록과 상세 정보를 보여준다. 

8. 커뮤니케이션 관리
  8.1 알림 및 공지사항 관리 : 본사관리자가 알림 및 공지사항을 저장하고 보여준다. 알림 및 공지사항을 CRUD 할 수 있다. 
  8.2 본사에게 요청사항 관리 : 작업자, 현장관리자, 파트너사가 '본사에게 요청'에 등록한 정보 목록과 상세 정보를 보여준다. 본사 관리자가 응대 조치 사항 결과를 기록할 수 있다. 

9. 기타 도구 및 관리
  9.1 사진대지 도구 : 현장별 작업일지의 사진대지 목록을 보고, 선택하여 수정할 수 있는 기능을 제공한다. 사진대지 파일을 수정하거나 새롭게 생성하여, 저장하면, 해당 현장 작업일지와 맵핑 되도록 한다. 
  9.2 도면마킹 도구 : 현장별 도면마킹 문서를 보고, 선택하여 수정할 수 있는 기능을 제공한다. 도며마킹 파일을 수정하거나 새롭게 생성하여, 저장하면, 해당 현장 작업일지와 해당 도면마킹 문서함과 맵핑 되도록 한다. 

10. 홈 (제일 첫번째 위 메뉴)
  10.1 빠른화면
  10.2 분석 대시보드 
  10.3 통합 알림센터 
  10.4 기타 화면            

11. 시스템 관리 

-------
위 순서는 별도로 시스템에서 정하기로 한다. 
